{%- comment -%}
  Simplified Preorder Display
  Uses theme-wide settings with preset styles
{%- endcomment -%}

{%- liquid
  # Get style preset (garden, standard, premium)
  assign style_preset = settings.preorder_style_preset | default: 'garden'
  
  # Apply preset styles
  case style_preset
    when 'garden'
      assign box_bg = '#f0f7f0'
      assign box_border = '#4a7c4a'
      assign box_text = '#2d5a2d'
      assign box_radius = '12px'
      assign box_shadow = '0 2px 4px rgba(74, 124, 74, 0.15)'
    when 'standard'
      assign box_bg = '#f5f5f5'
      assign box_border = '#cccccc'
      assign box_text = '#333333'
      assign box_radius = '8px'
      assign box_shadow = '0 1px 3px rgba(0, 0, 0, 0.1)'
    when 'premium'
      assign box_bg = '#fafafa'
      assign box_border = '#d4af37'
      assign box_text = '#5a4f3d'
      assign box_radius = '4px'
      assign box_shadow = '0 2px 8px rgba(212, 175, 55, 0.2)'
  endcase
  
  # Get customizable text
  assign prefix = settings.preorder_info_prefix | default: 'Coming Soon'
-%}

<div class="preorder-info-box" style="
  background: {{ box_bg }};
  border: 2px solid {{ box_border }};
  color: {{ box_text }};
  padding: 16px 20px;
  border-radius: {{ box_radius }};
  margin: 16px 0;
  text-align: center;
  font-weight: 500;
  box-shadow: {{ box_shadow }};
  position: relative;
  overflow: hidden;
">
  {%- if settings.preorder_show_icon != false -%}
    <span class="preorder-icon" style="font-size: 1.2em; margin-right: 8px;">{{ settings.preorder_icon | default: 'ðŸŒ±' }}</span>
  {%- endif -%}
  
  <strong>{{ prefix }}:</strong>
  
  {%- if date_text != blank -%}
    {{ date_text }}
  {%- elsif formatted_date != blank -%}
    {{ formatted_date }}
  {%- endif -%}
  
  {%- comment -%} Optional decorative element based on preset {%- endcomment -%}
  {%- if style_preset == 'garden' -%}
    <div style="
      position: absolute;
      top: -20px;
      right: -20px;
      width: 60px;
      height: 60px;
      background: {{ box_border }};
      opacity: 0.1;
      border-radius: 50%;
    "></div>
  {%- elsif style_preset == 'premium' -%}
    <div style="
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, transparent, {{ box_border }}, transparent);
    "></div>
  {%- endif -%}
</div>

{%- comment -%} Global styles for consistency {%- endcomment -%}
<style>
  .preorder-info-box {
    animation: fadeIn 0.3s ease-out;
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-5px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @media (max-width: 749px) {
    .preorder-info-box {
      font-size: 0.95em;
      padding: 14px 16px;
    }
  }
</style>